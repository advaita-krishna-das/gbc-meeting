{%raw%}
<div class="panel panel-default">
    <div class="panel-heading">
        Comments

        {{#if manageable}}
        <div class="pull-right">
            <label><input id="comment-private" type="checkbox" {{privateCheckedState}}> Private</label>
        </div>
        {{/if}}

        {{#if showPrint}}
        <a href="#" id="comment-print">Print</a>
        {{/if}}
    </div>


    <div class="panel-body">
        {{#if showFilter }}
        <form id="comment-filter" class="form-horizontal well well-sm">
            <div class="form-group">
                <label for="comment-filter-type" class="col-sm-2 control-label">Types:</label>
                <div class="col-sm-10">
                    <select id="comment-filter-type" class="selectpicker form-control" data-actions-box="true" multiple>
                        <option value="plus" {{filterTypeValue "plus"}}>Plus</option>
                        <option value="minus" {{filterTypeValue "minus"}}>Minus</option>
                        <option value="info" {{filterTypeValue "info"}}>Info</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="comment-filter-role" class="col-sm-2 control-label">Roles:</label>
                <div class="col-sm-10">
                    <select id="comment-filter-role" class="selectpicker form-control" data-actions-box="true" multiple>
                        {{#each roles}}
                        <option value="{{@this}}" {{../filterRoleValue @this}}>{{@this}}</option>
                        {{/each}}
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="comment-filter-role" class="col-sm-2 control-label">Sort:</label>
                <div class="col-sm-10">
                    <select id="comment-sort" class="selectpicker form-control" data-actions-box="true">
                        <option value="user" {{filterSortValue "user"}}>Name</option>
                        <option value="role" {{filterSortValue "role"}}>Role</option>
                        <option value="type" {{filterSortValue "type"}}>Type</option>
                        <option value="timestamp" {{filterSortValue "timestamp"}}>Time</option>
                    </select>
                </div>
            </div>
        </form>
        {{/if}}

        <div id="comment-list">
        {{#each comments}}
            {{#if visible}}
            <div class="media">
                <div class="media-left media-top">
                    <span class="glyphicon {{thumbsIcon type}}" aria-hidden="true"></span>
                </div>

                <div class="media-body">
                    <h4 class="media-heading">
                        {{user}} <small>{{role}}</small>
                        {{#if timestamp}}
                        <span class="pull-right"><small>{{>timestamp timestamp}}</small></span>
                        {{/if}}
                    </h4>

                    {{#if quote}}<blockquote>{{quote}}</blockquote>{{/if}}
                    {{content}}
                </div>
            </div>
            {{/if}}
        {{else}}
            No comments
        {{/each}}
        </div>
    </div>
</div>
{%endraw%}
